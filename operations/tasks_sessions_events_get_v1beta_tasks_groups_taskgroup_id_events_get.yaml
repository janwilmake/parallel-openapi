openapi: 3.1.0
info:
  title: Parallel API
  description: Parallel API
  contact:
    name: Parallel Support
    url: https://parallel.ai
    email: support@parallel.ai
  version: 0.1.2
servers:
  - url: https://api.parallel.ai
    description: Parallel API
paths:
  /v1beta/tasks/groups/{taskgroup_id}/events:
    get:
      tags:
        - Task API (Beta)
      summary: Stream real-time events from a task group
      description: >-
        Streams real-time events from a TaskGroup including status updates and
        run completions via server-sent events. This endpoint provides live
        updates about group-level status changes and individual task run
        completions, enabling real-time monitoring of batch processing
        operations. The connection remains open for up to 10 minutes as long as
        at least one run in the TaskGroup is active, and supports resumable
        streaming using event IDs for reliable event delivery.
      operationId: tasks_sessions_events_get_v1beta_tasks_groups__taskgroup_id__events_get
      parameters:
        - name: taskgroup_id
          in: path
          required: true
          schema:
            type: string
            title: Taskgroup Id
        - name: last_event_id
          in: query
          required: false
          schema:
            anyOf:
              - type: string
              - type: 'null'
            title: Last Event Id
        - name: timeout
          in: query
          required: false
          schema:
            anyOf:
              - type: number
              - type: 'null'
            title: Timeout
      responses:
        '200':
          description: Successful Response
          content:
            text/event-stream:
              schema:
                oneOf:
                  - properties:
                      type:
                        type: string
                        enum:
                          - task_group_status
                        const: task_group_status
                        title: Type
                        description: Event type; always 'task_group_status'.
                        default: task_group_status
                      event_id:
                        type: string
                        title: Event Id
                        description: Cursor to resume the event stream.
                      status:
                        allOf:
                          - properties:
                              num_task_runs:
                                type: integer
                                title: Num Task Runs
                                description: Number of task runs in the group.
                              task_run_status_counts:
                                additionalProperties:
                                  type: integer
                                type: object
                                title: Task Run Status Counts
                                description: Number of task runs with each status.
                              is_active:
                                type: boolean
                                title: Is Active
                                description: >-
                                  True if at least one run in the group is
                                  currently active, i.e. status is one of
                                  {'cancelling', 'queued', 'running'}.
                              status_message:
                                anyOf:
                                  - type: string
                                  - type: 'null'
                                title: Status Message
                                description: Human-readable status message for the group.
                              modified_at:
                                anyOf:
                                  - type: string
                                  - type: 'null'
                                title: Modified At
                                description: >-
                                  Timestamp of the last status update to the
                                  group, as an RFC 3339 string.
                                examples:
                                  - '2025-04-24T18:56:22.513132Z'
                            type: object
                            required:
                              - num_task_runs
                              - task_run_status_counts
                              - is_active
                              - status_message
                              - modified_at
                            title: TaskGroupStatus
                            description: Status of a task group.
                        description: Task group status object.
                    type: object
                    required:
                      - event_id
                      - status
                    title: TaskGroupStatusEvent
                    description: Event indicating an update to group status.
                  - properties:
                      type:
                        type: string
                        enum:
                          - task_run.state
                        const: task_run.state
                        title: Type
                        description: Event type; always 'task_run.state'.
                        default: task_run.state
                      event_id:
                        type: string
                        title: Event Id
                        description: Cursor to resume the event stream.
                      run:
                        allOf:
                          - properties:
                              run_id:
                                type: string
                                title: Run Id
                                description: ID of the task run.
                                examples:
                                  - trun_e0083b6aac0544eb8686e8d2a76533d2
                              status:
                                type: string
                                enum:
                                  - queued
                                  - action_required
                                  - running
                                  - completed
                                  - failed
                                  - cancelling
                                  - cancelled
                                title: Status
                                description: Status of the run.
                                examples:
                                  - queued
                                  - action_required
                                  - running
                                  - completed
                                  - failed
                                  - cancelling
                                  - cancelled
                              is_active:
                                type: boolean
                                title: Is Active
                                description: >-
                                  Whether the run is currently active, i.e.
                                  status is one of {'cancelling', 'queued',
                                  'running'}.
                              warnings:
                                anyOf:
                                  - items:
                                      properties:
                                        type:
                                          type: string
                                          title: Type
                                          description: >-
                                            Type of warning. Note that adding new
                                            warning types is considered a
                                            backward-compatible change.
                                          examples:
                                            - spec_validation_warning
                                            - input_validation_warning
                                        message:
                                          type: string
                                          title: Message
                                          description: Human-readable message.
                                        detail:
                                          anyOf:
                                            - type: object
                                            - type: 'null'
                                          title: Detail
                                          description: Optional detail supporting the warning.
                                      type: object
                                      required:
                                        - type
                                        - message
                                      title: Warning
                                      description: Human-readable message for a task.
                                    type: array
                                  - type: 'null'
                                title: Warnings
                                description: Warnings for the run, if any.
                                examples:
                                  - []
                              error:
                                anyOf:
                                  - properties:
                                      ref_id:
                                        type: string
                                        title: Ref Id
                                        description: Reference ID for the error.
                                      message:
                                        type: string
                                        title: Message
                                        description: Human-readable message.
                                      detail:
                                        anyOf:
                                          - type: object
                                          - type: 'null'
                                        title: Detail
                                        description: Optional detail supporting the error.
                                    type: object
                                    required:
                                      - ref_id
                                      - message
                                    title: Error
                                    description: An error message.
                                  - type: 'null'
                                description: >-
                                  Error for the run, present only if status is
                                  'failed'.
                              processor:
                                type: string
                                title: Processor
                                description: Processor used for the run.
                                examples:
                                  - base
                              metadata:
                                anyOf:
                                  - additionalProperties:
                                      anyOf:
                                        - type: string
                                        - type: integer
                                        - type: number
                                        - type: boolean
                                    type: object
                                  - type: 'null'
                                title: Metadata
                                description: User-provided metadata stored with the run.
                                examples:
                                  - {}
                              taskgroup_id:
                                anyOf:
                                  - type: string
                                  - type: 'null'
                                title: Taskgroup Id
                                description: ID of the taskgroup to which the run belongs.
                              created_at:
                                anyOf:
                                  - type: string
                                  - type: 'null'
                                title: Created At
                                description: >-
                                  Timestamp of the creation of the task, as an
                                  RFC 3339 string.
                                examples:
                                  - '2025-04-24T18:56:22.513132Z'
                              modified_at:
                                anyOf:
                                  - type: string
                                  - type: 'null'
                                title: Modified At
                                description: >-
                                  Timestamp of the last modification to the
                                  task, as an RFC 3339 string.
                                examples:
                                  - '2025-04-24T18:56:22.513132Z'
                            type: object
                            required:
                              - run_id
                              - status
                              - is_active
                              - processor
                              - created_at
                              - modified_at
                            title: TaskRun
                            description: Status of a task run.
                        description: Task run object.
                      input:
                        anyOf:
                          - properties:
                              task_spec:
                                anyOf:
                                  - properties:
                                      output_schema:
                                        anyOf:
                                          - properties:
                                              json_schema:
                                                type: object
                                                title: Json Schema
                                                description: >-
                                                  A JSON Schema object. Only a subset of
                                                  JSON Schema is supported.
                                                examples:
                                                  - additionalProperties: false
                                                    properties:
                                                      gdp:
                                                        description: >-
                                                          GDP in USD for the year, formatted like
                                                          '$3.1 trillion (2023)'
                                                        type: string
                                                    required:
                                                      - gdp
                                                    type: object
                                              type:
                                                type: string
                                                enum:
                                                  - json
                                                const: json
                                                title: Type
                                                description: >-
                                                  The type of schema being defined. Always
                                                  `json`.
                                                default: json
                                            type: object
                                            required:
                                              - json_schema
                                            title: JsonSchema
                                            description: JSON schema for a task input or output.
                                          - properties:
                                              description:
                                                type: string
                                                title: Description
                                                description: >-
                                                  A text description of the desired output
                                                  from the task.
                                                examples:
                                                  - >-
                                                    GDP in USD for the year, formatted like
                                                    '$3.1 trillion (2023)'
                                              type:
                                                type: string
                                                enum:
                                                  - text
                                                const: text
                                                title: Type
                                                description: >-
                                                  The type of schema being defined. Always
                                                  `text`.
                                                default: text
                                            type: object
                                            required:
                                              - description
                                            title: TextSchema
                                            description: >-
                                              Text description for a task input or
                                              output.
                                          - properties:
                                              type:
                                                type: string
                                                enum:
                                                  - auto
                                                const: auto
                                                title: Type
                                                description: >-
                                                  The type of schema being defined. Always
                                                  `auto`.
                                                default: auto
                                            type: object
                                            title: AutoSchema
                                            description: Auto schema for a task input or output.
                                          - type: string
                                        title: Output Schema
                                        description: >-
                                          JSON schema or text fully describing the
                                          desired output from the task.
                                          Descriptions of output fields will
                                          determine the form and content of the
                                          response. A bare string is equivalent to
                                          a text schema with the same description.
                                      input_schema:
                                        anyOf:
                                          - type: string
                                          - properties:
                                              json_schema:
                                                type: object
                                                title: Json Schema
                                                description: >-
                                                  A JSON Schema object. Only a subset of
                                                  JSON Schema is supported.
                                                examples:
                                                  - additionalProperties: false
                                                    properties:
                                                      gdp:
                                                        description: >-
                                                          GDP in USD for the year, formatted like
                                                          '$3.1 trillion (2023)'
                                                        type: string
                                                    required:
                                                      - gdp
                                                    type: object
                                              type:
                                                type: string
                                                enum:
                                                  - json
                                                const: json
                                                title: Type
                                                description: >-
                                                  The type of schema being defined. Always
                                                  `json`.
                                                default: json
                                            type: object
                                            required:
                                              - json_schema
                                            title: JsonSchema
                                            description: JSON schema for a task input or output.
                                          - properties:
                                              description:
                                                type: string
                                                title: Description
                                                description: >-
                                                  A text description of the desired output
                                                  from the task.
                                                examples:
                                                  - >-
                                                    GDP in USD for the year, formatted like
                                                    '$3.1 trillion (2023)'
                                              type:
                                                type: string
                                                enum:
                                                  - text
                                                const: text
                                                title: Type
                                                description: >-
                                                  The type of schema being defined. Always
                                                  `text`.
                                                default: text
                                            type: object
                                            required:
                                              - description
                                            title: TextSchema
                                            description: >-
                                              Text description for a task input or
                                              output.
                                          - type: 'null'
                                        title: Input Schema
                                        description: >-
                                          Optional JSON schema or text description
                                          of expected input to the task. A bare
                                          string is equivalent to a text schema
                                          with the same description.
                                    type: object
                                    required:
                                      - output_schema
                                    title: TaskSpec
                                    description: >-
                                      Specification for a task.


                                      For convenience we allow bare strings as
                                      input or output schemas, which is

                                      equivalent to a text schema with the same
                                      description.


                                      NOTE: Ordering of args impacts docs so
                                      please be careful when

                                      changing the order.
                                  - type: 'null'
                                description: Task specification.
                              input:
                                anyOf:
                                  - type: string
                                  - type: object
                                title: Input
                                description: >-
                                  Input to the task, either text or a JSON
                                  object.
                                examples:
                                  - What was the GDP of France in 2023?
                                  - country: France
                                    year: 2023
                              processor:
                                type: string
                                title: Processor
                                description: Processor to use for the task.
                                examples:
                                  - base
                              metadata:
                                anyOf:
                                  - additionalProperties:
                                      anyOf:
                                        - type: string
                                        - type: integer
                                        - type: number
                                        - type: boolean
                                    type: object
                                  - type: 'null'
                                title: Metadata
                                description: >-
                                  User-provided metadata stored with the run.
                                  Keys and values must be strings with a maximum
                                  length of 16 and 512 characters respectively.
                            type: object
                            required:
                              - input
                              - processor
                            title: TaskRunInput
                            description: Request to run a task.
                          - type: 'null'
                        description: Input to the run; included only if requested.
                      output:
                        anyOf:
                          - oneOf:
                              - properties:
                                  basis:
                                    items:
                                      properties:
                                        field:
                                          type: string
                                          title: Field
                                          description: Name of the output field.
                                        citations:
                                          items:
                                            properties:
                                              title:
                                                anyOf:
                                                  - type: string
                                                  - type: 'null'
                                                title: Title
                                                description: Title of the citation.
                                              url:
                                                type: string
                                                title: Url
                                                description: URL of the citation.
                                              excerpts:
                                                anyOf:
                                                  - items:
                                                      type: string
                                                    type: array
                                                  - type: 'null'
                                                title: Excerpts
                                                description: >-
                                                  Excerpts from the citation supporting
                                                  the output. Only certain processors
                                                  provide excerpts.
                                            type: object
                                            required:
                                              - url
                                            title: Citation
                                            description: A citation for a task output.
                                          type: array
                                          title: Citations
                                          description: >-
                                            List of citations supporting the output
                                            field.
                                          default: []
                                        reasoning:
                                          type: string
                                          title: Reasoning
                                          description: Reasoning for the output field.
                                        confidence:
                                          anyOf:
                                            - type: string
                                            - type: 'null'
                                          title: Confidence
                                          description: >-
                                            Confidence level for the output field.
                                            Only certain processors provide
                                            confidence levels.
                                          examples:
                                            - low
                                            - medium
                                            - high
                                      type: object
                                      required:
                                        - field
                                        - reasoning
                                      title: FieldBasis
                                      description: >-
                                        Citations and reasoning supporting one
                                        field of a task output.
                                    type: array
                                    title: Basis
                                    description: >-
                                      Basis for the output. The basis has a
                                      single field 'output'.
                                  mcp_tool_calls:
                                    anyOf:
                                      - items:
                                          properties:
                                            tool_call_id:
                                              type: string
                                              title: Tool Call Id
                                              description: Identifier for the tool call.
                                            server_name:
                                              type: string
                                              title: Server Name
                                              description: Name of the MCP server.
                                            tool_name:
                                              type: string
                                              title: Tool Name
                                              description: Name of the tool being called.
                                            arguments:
                                              type: string
                                              title: Arguments
                                              description: Arguments used to call the MCP tool.
                                            content:
                                              anyOf:
                                                - type: string
                                                - type: 'null'
                                              title: Content
                                              description: >-
                                                Output received from the tool call, if
                                                successful.
                                            error:
                                              anyOf:
                                                - type: string
                                                - type: 'null'
                                              title: Error
                                              description: Error message if the tool call failed.
                                          type: object
                                          required:
                                            - tool_call_id
                                            - server_name
                                            - tool_name
                                            - arguments
                                          title: McpToolCall
                                          description: Result of an MCP tool call.
                                        type: array
                                      - type: 'null'
                                    title: Mcp Tool Calls
                                    description: MCP tool calls made by the task.
                                  type:
                                    type: string
                                    enum:
                                      - text
                                    const: text
                                    title: Type
                                    description: >-
                                      The type of output being returned, as
                                      determined by the output schema of the
                                      task spec.
                                    default: text
                                  content:
                                    type: string
                                    title: Content
                                    description: Text output from the task.
                                type: object
                                required:
                                  - basis
                                  - content
                                title: TaskRunTextOutput
                                description: Output from a task that returns text.
                              - properties:
                                  basis:
                                    items:
                                      properties:
                                        field:
                                          type: string
                                          title: Field
                                          description: Name of the output field.
                                        citations:
                                          items:
                                            properties:
                                              title:
                                                anyOf:
                                                  - type: string
                                                  - type: 'null'
                                                title: Title
                                                description: Title of the citation.
                                              url:
                                                type: string
                                                title: Url
                                                description: URL of the citation.
                                              excerpts:
                                                anyOf:
                                                  - items:
                                                      type: string
                                                    type: array
                                                  - type: 'null'
                                                title: Excerpts
                                                description: >-
                                                  Excerpts from the citation supporting
                                                  the output. Only certain processors
                                                  provide excerpts.
                                            type: object
                                            required:
                                              - url
                                            title: Citation
                                            description: A citation for a task output.
                                          type: array
                                          title: Citations
                                          description: >-
                                            List of citations supporting the output
                                            field.
                                          default: []
                                        reasoning:
                                          type: string
                                          title: Reasoning
                                          description: Reasoning for the output field.
                                        confidence:
                                          anyOf:
                                            - type: string
                                            - type: 'null'
                                          title: Confidence
                                          description: >-
                                            Confidence level for the output field.
                                            Only certain processors provide
                                            confidence levels.
                                          examples:
                                            - low
                                            - medium
                                            - high
                                      type: object
                                      required:
                                        - field
                                        - reasoning
                                      title: FieldBasis
                                      description: >-
                                        Citations and reasoning supporting one
                                        field of a task output.
                                    type: array
                                    title: Basis
                                    description: >-
                                      Basis for each top-level field in the JSON
                                      output.
                                  mcp_tool_calls:
                                    anyOf:
                                      - items:
                                          properties:
                                            tool_call_id:
                                              type: string
                                              title: Tool Call Id
                                              description: Identifier for the tool call.
                                            server_name:
                                              type: string
                                              title: Server Name
                                              description: Name of the MCP server.
                                            tool_name:
                                              type: string
                                              title: Tool Name
                                              description: Name of the tool being called.
                                            arguments:
                                              type: string
                                              title: Arguments
                                              description: Arguments used to call the MCP tool.
                                            content:
                                              anyOf:
                                                - type: string
                                                - type: 'null'
                                              title: Content
                                              description: >-
                                                Output received from the tool call, if
                                                successful.
                                            error:
                                              anyOf:
                                                - type: string
                                                - type: 'null'
                                              title: Error
                                              description: Error message if the tool call failed.
                                          type: object
                                          required:
                                            - tool_call_id
                                            - server_name
                                            - tool_name
                                            - arguments
                                          title: McpToolCall
                                          description: Result of an MCP tool call.
                                        type: array
                                      - type: 'null'
                                    title: Mcp Tool Calls
                                    description: MCP tool calls made by the task.
                                  type:
                                    type: string
                                    enum:
                                      - json
                                    const: json
                                    title: Type
                                    description: >-
                                      The type of output being returned, as
                                      determined by the output schema of the
                                      task spec.
                                    default: json
                                  content:
                                    type: object
                                    title: Content
                                    description: >-
                                      Output from the task as a native JSON
                                      object, as determined by the output schema
                                      of the task spec.
                                type: object
                                required:
                                  - basis
                                  - content
                                title: TaskRunJsonOutput
                                description: Output from a task that returns JSON.
                            discriminator:
                              propertyName: type
                              mapping:
                                json: '#/components/schemas/TaskRunJsonOutput'
                                text: '#/components/schemas/TaskRunTextOutput'
                          - type: 'null'
                        title: Output
                        description: >-
                          Output from the run; included only if requested and if
                          status == `completed`.
                    type: object
                    required:
                      - event_id
                      - run
                    title: TaskRunEvent
                    description: |-
                      Event when a task run transitions to a non-active status.

                      May indicate completion, cancellation, or failure.
                  - properties:
                      type:
                        type: string
                        enum:
                          - error
                        const: error
                        title: Type
                        description: Event type; always 'error'.
                        default: error
                      error:
                        allOf:
                          - properties:
                              ref_id:
                                type: string
                                title: Ref Id
                                description: Reference ID for the error.
                              message:
                                type: string
                                title: Message
                                description: Human-readable message.
                              detail:
                                anyOf:
                                  - type: object
                                  - type: 'null'
                                title: Detail
                                description: Optional detail supporting the error.
                            type: object
                            required:
                              - ref_id
                              - message
                            title: Error
                            description: An error message.
                        description: Error.
                    type: object
                    required:
                      - error
                    title: ErrorEvent
                    description: Event indicating an error.
                discriminator:
                  propertyName: type
                  mapping:
                    task_group_status: '#/components/schemas/TaskGroupStatusEvent'
                    task_run.state: '#/components/schemas/TaskRunEvent'
                    error: '#/components/schemas/ErrorEvent'
                title: >-
                  Response 200 Tasks Sessions Events Get V1Beta Tasks Groups 
                  Taskgroup Id  Events Get
              example:
                type: task_group_status
                event_id: '123'
                status:
                  num_task_runs: 1
                  task_run_status_counts:
                    completed: 1
                  is_active: false
                  status_message: ''
                  modified_at: '2025-04-23T20:21:48.037943Z'
        '404':
          description: TaskGroup not found
          content:
            application/json:
              example:
                type: error
                error:
                  ref_id: fcb2b4f3-c75e-4186-87bc-caa1a8381331
                  message: TaskGroup not found
              schema:
                properties:
                  type:
                    type: string
                    enum:
                      - error
                    const: error
                    title: Type
                    description: Always 'error'.
                    default: error
                  error:
                    allOf:
                      - properties:
                          ref_id:
                            type: string
                            title: Ref Id
                            description: Reference ID for the error.
                          message:
                            type: string
                            title: Message
                            description: Human-readable message.
                          detail:
                            anyOf:
                              - type: object
                              - type: 'null'
                            title: Detail
                            description: Optional detail supporting the error.
                        type: object
                        required:
                          - ref_id
                          - message
                        title: Error
                        description: An error message.
                    description: Error.
                type: object
                required:
                  - error
                title: ErrorResponse
                description: Response object used for non-200 status codes.
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                properties:
                  detail:
                    items:
                      properties:
                        loc:
                          items:
                            anyOf:
                              - type: string
                              - type: integer
                          type: array
                          title: Location
                        msg:
                          type: string
                          title: Message
                        type:
                          type: string
                          title: Error Type
                      type: object
                      required:
                        - loc
                        - msg
                        - type
                      title: ValidationError
                    type: array
                    title: Detail
                type: object
                title: HTTPValidationError
